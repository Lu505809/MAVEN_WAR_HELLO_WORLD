- name: Install Git on Ubuntu
  hosts: localhost
  become: true

  tasks:
    - name: Update apt cache
      apt:
        update_cache: yes

    - name: Install Git
      apt:
        name: git
        state: present

# - name: Install Jenkins on Ubuntu
#   hosts: localhost
#   become: true
# 
#   tasks:
#     - name: Update apt cache
#       apt:
#         update_cache: yes
# 
#     - name: Install Java
#       apt:
#         name: openjdk-11-jdk
#         state: present
# 
#     - name: Add Jenkins APT key
#       apt_key:
#         url: https://pkg.jenkins.io/debian/jenkins.io.key
# 
#     - name: Add Jenkins APT repository
#       apt_repository:
#         repo: deb http://pkg.jenkins.io/debian-stable binary/
# 
#     - name: Install Jenkins
#       apt:
#         name: jenkins
#         state: present
# 
#     - name: Start Jenkins service
#       systemd:
#         name: jenkins
#         state: started
#         enabled: yes

- name: Install Maven on Ubuntu
  hosts: localhost
  become: true

  tasks:
    - name: Update apt cache
      apt:
        update_cache: yes

    - name: Install Maven
      apt:
        name: maven
        state: present

- name: Install JDK 17 on Ubuntu
  hosts: localhost
  become: true

  tasks:
    - name: Update apt cache
      apt:
        update_cache: yes

    # could be openjdk-17-jdk
    - name: Install OpenJDK 11
      apt:
        name: openjdk-11-jdk
        state: present

- name: Install Docker on Ubuntu
  hosts: localhost
  become: true

  tasks:
    - name: Update apt cache
      apt:
        update_cache: yes

    - name: Install required packages for apt over HTTPS
      apt:
        name:
          - apt-transport-https
          - ca-certificates
          - curl
          - software-properties-common
        state: present

    - name: Add Docker GPG key
      apt_key:
        url: https://download.docker.com/linux/ubuntu/gpg
        state: present

    - name: Add Docker APT repository
      apt_repository:
        repo: deb [arch=amd64] https://download.docker.com/linux/ubuntu {{ ansible_distribution_release }} stable
        state: present

    - name: Install Docker
      apt:
        name: docker-ce
        state: present

    - name: Ensure Docker service is started
      systemd:
        name: docker
        state: started
        enabled: yes
